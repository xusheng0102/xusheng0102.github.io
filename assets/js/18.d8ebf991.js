(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{184:function(a,s,t){"use strict";t.r(s);var e=t(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"ubuntu-mac-终端使用代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-mac-终端使用代理","aria-hidden":"true"}},[a._v("#")]),a._v(" Ubuntu/Mac 终端使用代理")]),a._v(" "),t("h2",{attrs:{id:"ubuntu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu","aria-hidden":"true"}},[a._v("#")]),a._v(" Ubuntu")]),a._v(" "),t("ol",[t("li",[a._v("安装shadowsocks客户端")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  sudo pip install shadowsocks\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("新建配置文件shadowsocks_config.json")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n    "server":"your server ip",\n    "server_port":10000(your server port),\n    "local_port":1080,\n    "password":"your password",\n    "timeout":300,\n    "method":"aes-256-cfb"\n}\n')])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("启动")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sslocal -c shadowsocks_config.json\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[a._v("使用\n"),t("ol",[t("li",[a._v("chrome  下使用使用SwitchyOmega设置Chrome代理")]),a._v(" "),t("li",[a._v("终端  在.zshrc/.bash_profile 末尾添加")])])])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('  alias proxyon="export all_proxy=socks5://127.0.0.1:1080"\n  alias proxyoff="unset all_proxy"\n')])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("终端使用代理(in terminal)")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  source .zshrc(only once)\n  proxyon\n")])])]),t("h2",{attrs:{id:"mac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac","aria-hidden":"true"}},[a._v("#")]),a._v(" Mac")]),a._v(" "),t("ol",[t("li",[a._v("安装")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Mac 使用shadowsocks客户端即可\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("使用（同 Ubuntu 4）")])]),a._v(" "),t("h2",{attrs:{id:"错误处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误处理","aria-hidden":"true"}},[a._v("#")]),a._v(" 错误处理")]),a._v(" "),t("ol",[t("li",[a._v("sslocal -c shadowsocks_config.json")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  AttributeError: /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1: undefined symbol: EVP_CIPHER_CTX_cleanup\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("这个问题是由于在openssl1.1.0版本中，废弃了EVP_CIPHER_CTX_cleanup函数，如官网中所说：\n\nEVP_CIPHER_CTX was made opaque in OpenSSL 1.1.0. As a result, EVP_CIPHER_CTX_reset() appeared and EVP_CIPHER_CTX_cleanup() disappeared.\nEVP_CIPHER_CTX_init() remains as an alias for EVP_CIPHER_CTX_reset().\n\n\n\n用vim打开文件：vim /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py (多个python 目录的话，在pip对应的python目录下查找)\n跳转到52行（shadowsocks2.8.2版本，其他版本搜索一下cleanup 全替换成 reset）\n进入编辑模式\n将第52行libcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,)\n改为libcrypto.EVP_CIPHER_CTX_reset.argtypes = (c_void_p,)\n再次搜索cleanup（全文件共2处，此处位于111行），将libcrypto.EVP_CIPHER_CTX_cleanup(self._ctx)\n改为libcrypto.EVP_CIPHER_CTX_reset(self._ctx)\n保存并退出\n启动shadowsocks服务：sslocal -c shadowsocks_config.json配置文件目录\nsudo sslocal -c shadowlocal.json -d start\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("查看终端是否成功")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("curl ip.cn\n")])])]),t("p",[a._v("或者")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("curl cip.cc\n")])])])])}],!1,null,null,null);s.default=r.exports}}]);